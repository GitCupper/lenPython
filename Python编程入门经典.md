# Python编程入门经典

![python log](https://i.loli.net/2019/04/23/5cbefbf7caf30.jpeg)

## 作者简介
James Payne居住在佛罗里达州马盖特市，他是Developer Shed公司的主编，从7岁起就开始写作和编程。James精通多门语言，已经撰写了400余篇文章，囊括了几乎每一种主流编程语言。James的工作是使用Python为金融业开发专有软件，在业余时间 他喜欢涉猎Django方向的知识。

## 致谢
我感谢在Developer Shed的同事：Jack和Jay Kin持续的敌意使我备受鼓舞；Charles Fagundes使我成为一名编辑，而不仅仅是一个作者；Keith Lee为我提供了编写代码的支持；特别要感谢Jenny Ruggieri，他使我得到了这份工作，所以有了这本书的面世。最后，还要感谢所有为这本书的前期版本付出艰辛劳动的人们，他们的工作是本书的基础。还要感谢编辑Carol Long、Jenny Watson、Ed Connor以及Chris McAvoy，他们帮助我在最终期限前完成本书。

我还想感谢Guido Van Rossum，没有他，也就没有Python语言可写。

## 前言
欢迎使用Python 3.1！
我使用Python已有10年左右，每一个新版本都使我越来越喜欢这门语言。版本3.1也不例外。如果您是Python的初学者，不必担心，我会一路引领着您。相反，如果您是一名希望尝试新版本的Python老手，可以不必在已掌握的知识上浪费时间，而是直接学习所需要的知识，因为本书的结构十分清晰。

之所以写这本书，是因为我热爱Python。我非常 喜爱它！我想和您一起分享我对Python的热爱。您可能也会像我一样越来越喜爱它。

### 本书读者对象
如果您具备计算机知识，并且想学习一门有趣的程序语言来更好地控制计算机，那么本书适合您。

如果您是系统管理员，希望学习一门优秀的语言来更好地管理和配置系统和网络，那么本书适合您。

如果您已经了解Python，但是想知道版本3.1中有哪些很酷的新功能，那么本书适合您。

总之，本书适合于所有热衷于使用功能最丰富且十分易用的最新版本Python 3.1进行编程的诸。

### 本书主要内容
本书主要介绍Python 3.1。Python 3.1发布于2009年，是Python程序语言的最新主版本。由于Python是一门跨平台的语言。本书中的内容和示例适用于任何平台（除非特别指出的例外情况）。在可能独立于平台的情况下，本书中的示例都尽量设计成跨平台的。

此外，由于Python 3.1相对较新，并非所有支持库都被更新到可以在Python 3.x下工作。在这种情形下，如果某些理论需要详细解释，本书将使用Python 2.6代替Python 3.1。

### 本书结构
就像所有入门书籍一样，本书首先对语言进行了介绍。从这里开始，会接触到语言的核心，进而接触到更加高级的专门主题。本书分为如下4个部分。

#### 第I部分——初步了解Python
如标题所示，第I部分让您初步了解Python。

##### 编程基础和字符串
本章首先介绍Python，探讨Python是什么，为什么它如此有用和强大。另外，还探讨Python的开发历史和最新的版本，后者正是本书的讨论重点。您会了解到Python所涉及的范围，以及Python可能参与的应用开发领域。最后，您将开始操作自己的第一种数据类型：字符串。

##### 数值与运算符
本章会介绍数值和运算符的基本知识。您将会学习不同类型的数值，如何执行简单的和复杂的公式，以及如何使用各种运算符。还将学到运算符的优先级以及数值的格式化。

##### 变量
编程语言最终帮助程序员管理不同类型的信息，换言之，就是管理数据。理解数据类型并且知道Python如何表示它们对于Python编程非常必要。本章将帮助您理解在Python中表示不同数据类型的最佳方式。

#### 第II部分——Python语言和标准库
当然，使用一门语言最需要的是了解语言本身，熟悉它的语法和模块。本部分首先介绍数据类型和变量，并逐步介绍其他概念，直到获得开发功能完善的Python程序所需的全部知识。

注意，应该按顺序阅读本部分的章节，因为每一章都建立在前一章的基础之上。

##### 做出决策
最终，程序将需要在某个位置做出决策：是选择这条路径，还是选择另一条路径？如果选择那条路径，将会发生什么？在本章中将学到如何比较数据，例如判断某个值是否比另一个值大，并且将学习如何利用循环来完成重复性的任务。

##### 函数
本章将介绍函数编程，这将帮助您扩展Python知识。函数允许使用者利用强大的概念，例如参数传递和代码重用。本章将介绍如何利用函数使编写的代码更加高效和灵活。

##### 类和对象
本章将介绍对象的概念。您将学习如何定义类和如何在类中创建对象和编写方法，还将学到有关对象作用域的知识。

##### 组织程序
当程序变大时，需要把它们分成单独的几部分。本章将讨论Python模块，并探索包的概念。包并不复杂，它仅是若干模块的集合。

##### 文件和目录
日常编程中一个重要的部分是学习如何处理文件和目录。文章着重介绍通常如何创建、修改和处理文件。另外，还将介绍如何从文件中获得数据，以及如何与各种各样的目录交互。

##### Python语言的其他特性
本章将介绍Python语言提供的其他特征，包括如何使用列表做出决策，如何使用字典进行字符串替换，以及一些有特色的模块。

##### 创建模块
通过允许重用代码片段，模块能够帮助节省时间。它能减少发生错误的机率，因为当前用到的模块可能之前已经被测试和使用过很多次。本章将介绍如何创建自己的模块，以及如何导入并处理已存在的模块，这些已经存在的模块使得Python在应用中功能非常强大。

##### 文本处理
在编程过程中，可以利用文本做很多事情，而且本质上，文本是与用户进行有效沟通的关键。毕竟，如果没有文本，就只能使用图片了。本章将介绍如何用多种方法处理文本，包括利用正则表达式、搜索文件以及搜索特定类型的文件等。

#### 第III部分——开始使用Python
现在您已经知道了Python是什么，以及如何利用这门语言进行工作，接下来应该做什么呢？本部分探究了您会遇到或者想了解的许多编程主题。可以顺序阅读本部分的各章，也可以按其他任意顺序阅读。因为它们是彼此独立的。

##### 测试
在把程序交付给用户之前，对程序进行测试，这是保证它能正常工作的唯一途径。本章不仅会介绍正确测试程序的一些基本概念，还会介绍一些可用的测试工具和测试框架。

##### 使用Python编写GUI
目前为止，本书中的程序都是通过命令行方式工作。本章将介绍GUI编程的概念。您将使用Tkinter创建几个GUI程序，Tkiner是Python程序员最常用的GUI工具包。

##### 访问数据库
数据库存储了程序可以使用的各种信息。它也可以作为存储信息的地方，以便日后可以从中检索出特定任务所需要数据。本章将介绍各种类型的数据库以及如何利用它们进行工作。

##### 使用Python处理XML
XML是处理Internet数据的强大工具。本章将介绍XML的基础知识，包括模式与DTD之间的区别、基本的语法、如何创建和验证XML以及一些高级的主题（例如使用lxml）。

##### 网络编程
Internet已经潜移默化地进入了我们的日常生活，并逐渐变成必需品，而不是一种特权。本章将介绍如何使用程序发送E-mail，以及如何允许用户通过Web进行交流。

##### 用C扩展编程
本章深入介绍如何使用C语言编程，包括如何利用C的框架和模块，C的基础知识，以及如何从Python向C传递参数，并在之后将值返回给Python。

##### 数据编程
本书的开始部分简单介绍了数值，现在是进一步钻研的时候了。本章将深入介绍整形、浮点型、复数和数组的全部知识，以及如何使用内置的数学函数和模块。

##### Django简介
Django是用Python编写的Web应用程序框架，它利用了模型－视图－控制器模式。Django最初被用来管理新闻Web站点，但由于简单易用而变得流行起来，它使得程序员可以用简单的方式创建复杂的Web站点，包括以数据库为中心的Web站点。本章将介绍Django的基础知识。

##### Web应用程序和Web服务
本章将介绍Web应用程序和Web服务的基础知识，例如REST架构，以及如何处理HTTP请求和响应。

##### 集成Java与Python
本章将介绍Java的基础知识，这样可以在研究如何结合Python和Java之前，打好坚实的基础。还将介绍各种帮助在Python中使用Java的模块，以及如何创建简单但有效的应用程序。

#### 第IV部分：附录
本书结尾的附录可以进一步扩展您对Python的了解，激发您对Python的学习兴趣。
* 习题答案
* 在线资源
* Python 3.1的新特性
* 术语表

### 使用本书的条件
使用本书的有一些条件。在此给出下面列出的推荐，因为Python本身可在多种不同的平台上运行。然而，本书的前几章假定您可以使用GUI，例如在Windows、Mac OS X、UNIX和Linux上的X Window等系统上可用的GUI。自然地，一些章节（例如介绍GUI的那一章）也需要GUI，而如果有网络连接，涉及网络的那些章节会更有意义。

下面是建议的最低配置需求：
* 一台PC机，运行Linux、BSD UNIX或Windows系统，频率在500MHz以上；或者运行Mac OS X版本10.2或更新版本的G3或更新的Macintosh。
* 至少256M内存。
* 所用平台具有图形用户界面。
* 对所用计算机有必要的权限，以安装必要的软件。
* 可以访问TCP/IP网络，例如Internet或者校园网。
* 可以通过Internet下载所需软件。

### 源代码
在阅读本书提供的代码时既可以亲自输入所有代码，也可以使用随书提供的代码文件。本书所有代码均可以从[http://www.wrox.com](http://www.wrox.com)（或[http://www.tupwk.com.cn/downpage](http://www.tupwk.com.cn/downpage)）网站下载。进入该网站后，请根据本书的书名查找本书（读者既可以使用搜索框进行查找，也可以使用书名列表进行查找），然后单击本书详细内容页面上提供的Download Code链接，就可以下载本书提供的所有代码。

**注意：**
由于许多书籍名称与本书类似，因此也可以通过ISBN进行查找，本书英文版的ISBN为：978-0--470-41463-7。
下载代码后，可以利用一种压缩工具解压代码。此外，还可以通过访问网站[http://www.wrox.com/dynamic/books/download.aspx](http://www.wrox.com/dynamic/books/download.aspx)中提供的Wrox代码下载页面来获取本书提供的代码，也可以下载Wrox出版的其他书籍提供的代码。

### 勘误表
为了避免本书文字和代码中存在的错误，我们已经竭尽全力。然而，就如世界上不存在完美无缺的事物，本书仍然可能存在错误。如果您在我们编写的书籍中发现了诸如拼写错误或代码缺陷等问题，请告诉我们，我们对些表示感谢。利用勘误表反馈错误信息，可以为其他读者节省大量时间，同时，我们也能够受益于您的帮助，编写出质量更高的专业著作。

如果需要参考本书的勘误表，请在网站[http://www.wrox.com](http://www.wrox.com)中用搜索框或书名列表查找本书书名。然后，在本书的详细内容页面上，单击Book Errata链接。在随后显示的页面中，可以看到与本书相关的所有勘误信息，这些信息是由读者提交、并由Wrox的编辑们加上的。通过访问[www.wrox.com/misc-pages/booklist.shtml](www.wrox.com/misc-pages/booklist.shtml)，还可以看到Wrox出版的所有书籍的勘误表。

如果没有在Book Errata页面上找到自己发现的错误，那么请转到页面[www.wrox.com/contact/techsupport.shtml](www.wrox.com/contact/techsupport.shtml)，针对您所发现的每一项错误填写表格，并将表格发给我们，我们将对表格内容进行认真审查，如果确实是我们书中的错误，那么我们将在该书的Book Errata页面上标明该错误信息，并在该书的后续版本中改正相关错误。

### 关于p2p.wrox.com
如果您希望能够与作者进行讨论，或希望能够参与读者的共同讨论，那么请加入[p2p.wrox.com](p2p.wrox.com)的论坛。这个论坛是一个基于Web的系统，您可以在论坛发表与Wrox出版的书籍有关的技术信息，并与其他读者和技术用户进行讨论。论坛提供了订阅功能，可以将与您所选主题相关的新帖子定期发送到您的电子邮箱。Wrox的作者、编辑、业界专家以及其他读者都会参与论坛中的讨论。

您可以在[http://p2p.wrox.com](http://p2p.wrox.com)参与多个论坛的讨论，这些论坛不仅能够帮助您列好地理解本书，还有助于您更好地开发应用程序。如果希望加入论坛，请按照以下步骤执行：
> (1)进入[http://p2p.wrox.com](http://p2p.wrox.com)页面，单击Register链接。
> (2)阅读使用条款，然后单击Agree。
> (3)填写必要的信息（以及想要提供的可选信息），然后单击Submit。
> (4)随后会收到一封电子邮件，邮件中说明了如何验证账号并完成整个加入过程。

**注意：**
`要阅读论坛信息，无须加入P2P。但是如果需要发表主题或发表回复，那么必须加入论坛。`

成功加入论坛后，就可以发表新主题了。此外，还可以回复其他主题。您在任何时间都可以阅读论坛信息。如果需要论坛将新的信息发送到自己的电子邮箱，那么可以单击论坛列表中论坛名称旁的Subscribe to this Forum图标完成该功能设置。

如果需要获得更多与Wrox P2P相关的信息，请阅读P2P FAQs，这样可以获得大量与P2P和Wrox出版的书籍相关的具体信息。阅读FAQs时，请单击P2P页面上的FAQs链接。

## 第I部分——初步了解Python

### 第1章 编程基础和字符串
本章简单地介绍Python编程实践。Python是一门丰富的语言，包含许多特性，因而学好基础知识是深入学习Python的前提条件。第1章～第3章通过易于理解的段落和简单的示例介绍了常见的编程思想。

对Python感兴趣的有经验的编程人员可以略读本章，并留意其中的示例，直到每3章为止，都可以借助于已有的对其他语言的知识阅读这些章节。

本章将介绍：
* 编程的一些指导原则。
* 关于初步接触程序语言Python的一些说明。
本章末的练习提供了对初步学到的基础知识进行实践的机会。

#### 1.1 编程与使用计算机的区别
编程时第一件需要了解的事情就是控制计算机。有时，计算机并没有按照人们的意愿工作，当它第一次没能如您所愿后，在第二次、第三次仍然会做与第一次相同的事情，直到对它进行修改。

个人计算机发发展已背离了可靠性原则，并朝不可信的软件套软件的方向发展。这就导致人们认为计算机就您一头具有恶意且任性的野兽，当试图让它完成某些事的时候，它会不断地增加人们的额外的工作量并折磨着使用者。然而，学过编程之后，就会知道如何应对这种情况，也许还会发现自己比所有软件的某些编写者还要聪明。

使用Python这种解释型的语言编程，意味着并不需要了解太多的计算机内部细节，如硬件、内存或者长长的0/1串。这时编程就与平常阅读和写作一样，只不过是用一种不同的简单的语言来书写。Python是一门语言，就像所讲的英语或其他语言一样，它对讲同种语言的人而言是有意义的。学习程序语言比学习人类语言甚至更简单，因为化并不是用于讨论、争论、打电话、表演、拍电影以及任何形式的日常交流活动。它们用来制订规则，并确保规则被执行。计算机已被塑造成异常灵活的工具，被广泛地用于人们日常生活中的各种商业活动和任务，但它们依旧是由可理解、可控制的基本部件组成的。

##### 1.1.1 编程的一致性
尽管计算机已消然地囊括了各式各样的设计理念，并日趋复杂。但其基本原理仍然相对简单。定义计算机如何工作的内部机制从上世纪50年代晶体管被第一次用于计算机起，就没有发生过太大的变化。

在那个时代，这种简单的核心意味着计算机可以而且应该具有高度一致性。对于程序员而言，这意味着，在任何时候让计算机跳高（比喻，并非真能跳高），就必须告诉它要跳多高，落在哪里，这样它才能完成跳跃动作，并且在指定的时间内，它将会一次次地重复相同的动作。如果没有改动程序，程序就不应随意地停止或改变工作方式。

##### 1.1.2 程序的可控性
编制一台计算机与编制一个计划是截然不同的。现实生活中，当要求他人做事时，有时候不得不做一番斗争以确保他们按照自己的意愿行事。例如，假如您计划了一个30个的聚会，并指定其中的两个人负责带土豆和蘸酱，但他们却带了饮料，这就失去了控制。

计算机则不存在这种问题，它会严格按照指示工作。如您所料，这意味着必须注意一些细节，以确保计算机确实做了要求它做的事。

Python语言的一个目标就是实现模块化编程，这就使得可以通过每一个子项目作为一个部件，并通过确保部件以易于理解的方式运行来实现更大的项目。这也是面向对象编程的主要目标。这种编程模式的主要原理是通过编制可靠的部件，使这些部件组装之后依然可以运行，且易于理解和使用。这就给予了程序员对程序每一部分运行方式的控制力，使得当要解决的问题发生变化时，知道如何扩展已有的程序。

##### 1.1.3 程序要应对变化
程序运行于计算机之上，并用于解决现实问题。现实世界中，计划和环境总是频繁地改变。这些不断变迁的环境使程序员很难有机会编写出技巧性、实用性和灵活性均趋于完美的程序。通常，只能达到其中的两个目标。这些不得不应对的变化应当都会程序员如何 更加小心地编写程序。如果足够小心，就可以编写出这样的程序，当用户的要求超出它的能力范围，它可以很友好地退出，并且通知它的使用者自己已终止工作。最好可以编出能够指出失败位置并解释失败原因的程序。Python提供了许多有用的特征，使得程序员可以描述出导致程序无法正常工作的原因。

##### 1.1.4 小结
综上所述，这些初步的规则意味着您即将被引进编程的大门，在一个自己控制的环境里，告诉计算机要做的工作。还会意识到，意外时有发生，但这些错误是可以通过某些机制加以控制的，这些机制可以让您知道如何对导致错误的条件进行处理，包括如何让程序从问题中恢复并继续运行。

#### 1.2 准备工作
在开始用Python编程之前，首先要下载并安装Python 3.1访问[www.python.org/download](www.python.org/download)并选择Python的最新版本。这会进入一个说明页面，告诉如何下载最适合本地计算机的Python版本。例如，如果正在运行Windows操作系统，该页面可能会建议下载Windows X86 MSI Installer(3.0)。

程序是以源代码的形式编写的。源代码中包含了使用程序语言编写的指令，当计算机读到源代码并对其进行处理时，程序里的指令将会变成计算机执行的操作。

就像作家和编辑有编写杂志、书籍以及在线出版物的专用工具一样，程序员也需要专门的工具。作为Python的初学者，最合适的编程工具莫过于Python IDLE图形用户界面了。

下载结束后，双击以运行程序。最好接受Python的所有默认提示。这个过程大概需要几分钟，具体时间取决于所使用的系统。

安装完毕之后，也许想测试Python是否被正确地安装。单击Windows的Start菜单，找到All programs，会看到Python 3.0的图标已经出现在菜单中，选择IDLE（Python GUI），等待程序加载。

一旦IDLE启动，输入“Test, test, testing”，并按下回车键。如果Python运行正常，它会返回
```
 'Test, test, testing'
```
这些字母都是蓝色的，并且带单引号（稍后将解释原因）。恭喜，您已成功安装了Python，并且正式步入了成为编程大师的征途。

##### 1.2.1 在非Windows系统上安装Python 3.1
如果使用Mac并运行Mac OS X操作系统，很幸运，它已经预装了Python。不过，它安装的可能不是最新版本的Python。为了安全性以及兼容性的目的，建议访问[www.python.org/download/mac](www.python.org/download/mac)，检查所用的Mac OS X版本是否适合正在安装的Python版本。

装有Linux系统的计算机可能已经安装好Python，但同样可能不是最新版本。这里仍然建议去Python的官方Web站点找到最新版本（当然，要适合所用的系统）。Web站点[www.python.org/download](www.python.org/download)上介绍了如何下载适合您的计算机的Python版本。

##### 1.2.2 使用Python Shell
在开始编写程序之前，需要学习如何使用Python Shell试验程序。现在，可以认为Python Shell是一种查看运行中的Python代码的方式。通过Shell可以进入Python的一个运行实例中，并可以向其中填写代码；同时，Python会执行要求它做的任何工作，并会显示它是如何对程序的环境做出响应的。由于程序通常是在一定的上下文环境——由程序员根据自己的需求量身打造——中运行，使用Shell的好处是它可以让程序员在自己创建的上下文环境中进行实验。

成功安装Python 3.1后，可以开始使用Shell的基本功能做一些实验。例如，可以输入：
``` python
 >>> "Hello World. You will never see this."
```
注意刚才输入Shell的语句实际上什么都不做，Python的环境也没有任何变化。Python会判断输入的语句让它做什么。在本例中，仅需要Python读取所输入的文本。

尽管从技术上说Python没有对输入的文本执行任何操作，但它会给出某种指示，表明自己已读过输入的语句。Python通过显示输入的文本（字符串）表明它已经读过了。字符串是Python的一种数据类型，在Python中，每种数据类型都有不同的显示方式。在逐步深入地阅读本书的过程中，读者会看到Python是如何显示每种不同的数据类型的。

#### 1.3 开始使用Python——字符串
此时，您可以自由使用Shell的基本功能进行实验。输入一些文本，并用引号括住它们。初学者可以输入如下语句：
``` python
>>> "This text really won't do anything"
"This text really won't do anything"
```
您应该立刻注意到，当输入一个引号（"）时，Python Shell改变了之后输入的所有字符的颜色，走到输入第二个引号以结束当前输入的语句。当然，前面的解释是成立的。它什么都不做：它 会改变Python的环境，正在运行的Python实例仅判断输入的语句是否让Python做一些事情。本例中，仅仅让它读入所写的文本，但这些并不会改变环境。

然而，可以看到Python表示它看到了输入。它以字符串的形式显示了输入，即用引号把输入的文本括起来。当学习了其他数据类型后，会发现Python显示不同数据类型的方式是不同的。

##### 1.3.1 字符串概述
字符串是Python语言的一种数据类型。顾名思义，数据类型是指某种特定类型的数据所适合的类别。输入到计算机中的数据会被划分为某种数据类型，不管它们是数值还是字母。定义数据类型使得计算机可以断定如何处理输入的数据。例如，如果想让程序在屏幕上显示数学公式 1+1 ，必须告诉它输入的是文本。否则，程序会将输入解释为数学公式，并进行相应的计算。

在后续的章节中，读者将会了解到越来越多的不同的数据类型，并理解定义数据类型的重要性。目前，知道字符串是由任意字符构成的数据类型即可，一个字符呆能是一个字母、数值、符号或标点符号。因此，下面所列都是字符串的示例。
``` python
 "Hello, how are you?"
 "1+1"
 "I ate 4 bananas"
 "!@#$%^&*()"
```

##### 1.3.2 为什么需要引号
当向Python输入一个字符串时，首先要输入一个引号。至于应该使用单引号（'）、双引号（"）还是三个引号（'''），要取决于想完成的目标。大多数情况下会使用单引号，因为它最容易输入（不需要按下Shift键）。然而，请记住，单引号和双引号以及三层引号是等价的。

尝试输入一些字符串。每当输入一个语句后，按下回车键让Python计算输入的语句。

@(**试一试**)[用不同的引号输入字符串]

输入如下字符串，记住引号的类型（单引号或双引号）和行的末端（到达行的末端时使用回车键）：
``` python
 >>> "This is a string using a double quote"
 'This is a string using a double quote'
 >>> 'This is a string with a single quote'
 'This is a string with a single quote'
 >>> """This string has three quotes
 look at what it can do !"""
 'This string has three quotes\nlook at what it can do!'
 >>>
```
在上面的示例中，尽管每个句子看起来都不一样，但计算机用同样的方式解释它们：作为字符串。下面将介绍使用3种不同引号的真正目的。

##### 1.3.3 为什么有3种类型的引号
有3种类型的引号的原因很简单。假定就像刚才所做的那样，要在句子中用一个缩写。如果向Shell中输入语句“I can't believe it's not butter.”，不会有什么问题，但是当实际上程序用到刚才输入的 字符串时，就会得到出错的消息。为了解释这种现象，下一节将介绍`print()`函数。

##### 1.3.4 使用print()函数
Python（以及其他程序语言）中的函数是开发人员用来节省时间以及使程序更有效率的工具。他们将可以重复使用的代码存储在函数中，然后在需要的时候调用这些函数，而不是一遍遍地编写相同的代码。目前不要太担心函数，在后面会对它们进行更详细的介绍。

`print()`函数用来在屏幕上打印文本。在Python Shell中尝试如下的示例：
``` python
 >>> print("Hello World!")
```
按下回车键后，可得到如下输出：
``` python
 Hello World!
```
 这里有几个地方需要注意。首先，当进入`print()`函数时，会弹出如图1-1所示的窗口，显示函数中各种可用的选项。其次，后续行中的文本再次显示为蓝色，但这次，文本周围并无引号。这是因为与之前的示例有所不同，这一次Python实际上对数据做了一些操作。
 [![打印图片](https://i.loli.net/2019/04/24/5cbfb01663b93.png)](https://i.loli.net/2019/04/24/5cbfb01663b93.png)
 图 1-1

 恭喜，您已经编写了自己的第一个程序。

##### 1.3.5 理解不同的引号
 现在知道了如何使用`print()`函数，可以练习使用本章前面提到的各种不同类型的引号了。尝试之前的示例：
``` Python
 >>> print('This is a string using a single quote!')
 This is a string using a single quote!
 >>> print("This is a string using a double quote!")
 This is a string using a double quote!
 >>> print("""This string has three quotes!
 Look at what it can do!""")
 This string has three quotes
 Look at what it can do!
```
可以看到，在示例所示的这些情况中单引号（'）和双引号（"）是可以互换的。然而，若想使用缩写，例如don't，或者想引用某人的言论，观察会发生什么：
``` Python
 >>> print("I said, "Dont't do it")
```
当按下回车键执行该函数时，会得到错误消息：`SyntaxError: invalid syntax(<pyshell#10>, line 1)`。您也许会感到奇怪，单引号和双引号不是可以互换吗？大部分情况下是这样的。然而，将它们混合在一起时，经常会出现语法错误，表示错误地输入了代码，并且Python不会知道您的意图何在。

实际上，Python看到输入的第一个双引号后，把它解释为字符串的开头。当它在单词`Don't`之前碰到双引号时，会将该引号看做字符串结束符。因而，后面的字母对Python是没有意义的，因为它们不是当前字符串的一部分。直到遇到字母t之前的那个单引号时，字符串才重新开始。

有一个简单的解决办法，叫做转义。再试一下前面的代码，在字符串中加入一个转义字符：
``` Python
 >>> print("I said, \"Dont't do it")
 I said, "Don't do it
```
这一次，代码可以工作了。当Python见到反斜杠（\），也就是转义字符时，知道应当把双引号看做一个字符，而不是某种数据类型的指示符。但是，也许您已经注意到了，这行代码还存在最后一个问题。看到输出结果最后丢失了一个双引号吗？为了使用Python将语句末尾的双引号打印出来，只需要再增加一个转义字符以及一个双引号即可，如下所示：
``` Python
 >>> print("I said, \"Dont't do it\"")
 I said, "Don't do it"
```
最后，花点时间讨论一下三引号。之前简单介绍过它的用法。从该示例可看出，利用三引号可以输入多行文本，在输入结束三引号之前这些文本不会被处理。这种技术在不想将大量数据打印到一行以及想在代码中换行时非常有用。接下来的示例使用这种方法写了一首诗：
``` Python
 >>> print("""Roses are red
 Violets are blue
 I just printed multiple lines
 And you did too!""")
 Roses are red
 Violets are blue
 I just printed multiple lines
 And you did too!
```
还可以利用换行（\）转义字符在多行中打印文本，换行符是最常用到的转义字符。这里对其做一简单介绍，在后续章节中会深入地讨论它。尝试如下代码：
``` Python
 >>> print("Roses are red \n Violets are blue \n
 I just printed multiple
 lines \n And you did too!")
 Roses are red
 Violets are blue
 I just printed multiple lines
 And you did too!
```
可以看到，结果是一样的。采用哪种方法取决于自己，但是换行符可能更有效率并且更易于理解。

#### 1.4 串联两个字符串
每个程序员都会遇到要把两个或多个字符串连接在一起的情况，这叫做串联（concatenation）。例如，假设有一个包含了雇员的名和姓的数据库。某些时候可能希望半这些名字作为完整的记录打印，而不是将名和姓分开。Python中，每个这样的项都会被看做一个单独的字符串，如下所示：
``` Python
 >>> "John"
 'John'
 >>> "Everyman"
 'Everyman'
```

@(**试一试**)[用加号串联字符串]

有许多将不同的字符串串联起来的方法。第一种是数学方法：
``` Python
 >>> "John" + "Everyman"
 'JohnEveryman'
```
也可以不用+号，而采用下面这种方法：
``` Python
 >>> "John" "Everyman"
 'JohnEveryman'
```
从这些示例可以看出，字符串被串联起来了；然而，Python逐字读这个语句，因而两个字符串之间没有空格（请记住：Python现在将它们看做一个字符串，而不是两个！）。如何处理这种情况？有两种解决方法。第一种是在第一个字符串后加入一个空格，如下所示：
``` Python
 >>> "John " "Everyman"
 John Everyman
```
然而，并不推荐使用这种方法，因为将来需要阅读这段代码时，很难确定是否存在John的后面加了空格。另外一种方法是简单地使用一个分隔符，例如：
``` Python
 >>> "John" + " " + "Everyman"
 'John Everyman'
```
使用这种方法而不是简单地输入一个空格的其他原因与数据库存储有关，第14章中将讨论这方面的内容。请注意，可以使用任意的分隔符，例如：
``` Python
 >>> "John" + "." + "Everyman"
 'John.Everyman'
```
##### 用print函数连接字符串
默认情况下，当要在一句话中打印多个字符串时，print()函数会非常周全地插入空格。这里没有必要使用空格分隔符。相反，只需要用逗号将不同的字符串隔开即可。
``` Python
 >>> print("John", "Everyman")
 John.Everyman
```

#### 1.5 用不同的方法串联字符串
另外一种指定字符串的方法是使用格式说明符。它通过插入一个特定的字符序列工作，这个字符序列被Python解释为占位符，并将由程序员提供的值 替换。初看起来，这种方法很复杂，不是非常有用，但格式说明符可以控制要显示的信息的格式，还可以提供许多有用的技巧。

@(**试一试**)[用加号串联字符串]

在最简单的情形下，可以对朋友John Q.做同样的事情：

##### 示例说明
%s是针对字符串的格式说明符。在本书对数据类型进行不断讨论的过程中，还会遇到更多的格式说明符，它们分别对应于特定的数据类型。在字符串中，每个格式说明符都担当相应类型的占位符。字符串外面的%符号表明它后面的所有值会被插入到字符串中相应的格式说明符处。

注意圆括号，它告诉字符串后面的序列包含用于填充格式说明符的值。

一种简单的理解方式是%s是一个存储器，存放着圆括号中的值。如果想处理更多的值，只需加入另外一个格式说明符即可，例如：
``` python
 >>> "John %s%s" %("Every", "Man")
 John Everyman
```
这些序列是Python编程的一部分，同样地，在本书的后续章节中会对其做更详细的介绍。目前，只需知道字符串中的每一个格式说明符在提供给它的序列中都必须有一个元素与之对应即可。序列中的每一项都是用逗号分隔开的字符串。

如果是向其中存放数据，为什么要把它们叫做格式说明符呢？原因是它们有多种功能，作为存储器只是其功能之一。下面的示例不仅说明了如何向格式说明符中存放数据，还说明了如何用它指定要显示的数据格式。

@(**试一试**)[更多字符串格式]

这个示例告诉格式说明符处理多个字符。尝试如下代码，并观察结果：
``` python
 >>> "%s %s %10s" % ("John", "Every", "Man")
 'John Every           Man'
 >>> "%-5s %s %10s" % ("John", "Every", "Man")
 John     Every          Man
```
##### 示例说明
在第一行代码中，单词Man出现时，离前面的单词很远，这是因为在最后一个格式说明符中添加了10，表示一个长度为10的字符串。如果字符串没有10个字符（它仅包含3个字符，即M-a-n），它就会在前一个单词与Man中间加入7个空格。

在输入的第二行代码中单词Every被空格隔开的方式与其他单词不同。原因与第一行代码相同，只不过这次空格是在左边，而不是右边。将负号放在格式说明符的右边，这个格式会出现在单词的右边。如果使用了一个非负的数值，它出现在左边。

#### 1.6 本章小结
本章学习了如何安装Python，以及如何使用Python GUI(IDLE)，这个GUI是用Python编写的程序，专门用于编辑Python程序。除了编辑文件，这个Shell还允许用Python的简单编程语句进行实验。

本章通过使用Shell介绍了有关字符串处理的基本知识，包括字符串串联，如何使用格式说明符对字符串进行格式化，甚至如何在同样的%s格式说明符中存储字符串。另外，还学习了如何使用多种类型引号，包括单引号、双引号和三引号，并且了解了\n换行转义字符的含义。

最后，学习了第一个函数print()，并且编写了自己的第一个程序Hello World，初学编程时第一个编写Hello World程序在程序员中间是一个历史悠久的传统，这与演奏吉他首先要学习“Smoke on the Water”一样——它们都是必学的第一课。

##### 本章要点：
* 编程的一致性。所有程序都是为了特定的用途而创建的，程序的使用者不仅希望程序能够实现预定的用途，而且希望程序每次的工作方式都相同。如果用户单击一个按钮，有一个打印对话框弹出，那么这个按钮应当总以相同的方式工作。
* 编程的可控性。程序员控制着自己的应用程序可以执行以及不可以执行的操作。即使程序的某些方面对于普通的观察者而言是随机的，但实际上它们也是由程序员创建的参数控制的。
* 程序要应对变化。通过不断的测试，可以确保程序对用户做出适当的响应，即使用户让程序做一些其能力范围之外的事情。
* 字符串是一种数据类型，简单讲，是一类数据。这些字符串允许以多种方式与用户进行交互，例如，向窗口打印文本，接受用户输入的文本等等。一个字符串可由任意的字母、数值或者特殊字符组成。

#### 1.7 习题
1. 在Python Shell中，输入字符串：“Rock a by baby, `\n\ton the top, \t\when the windblows\n\t\t\t the cradle will drop”`。可以使用不同数目的\n和\t转义序列进行实验，看看它们的数目对屏幕上的显示有什么影响。甚至可以尝试把它们放在不同的位置。可能的输出是什么？

2. 在Python Shell中，使用与练习1中相同的字符串，但是这一次使用print()函数显示该字符串。再一次尝试不同数目的\n和\t转义序列。结果会有什么不同？

### 第2章 数值与运算符
人们天生使用数值。婴儿从开始爬行到最终站起来都使用数值估计距离。随着时间 的推移，人们扩大了数值的使用范围，开始更加有意识地使用数值，例如购买饮料或制定每月的预算。不论是一岁还是九十岁，都对数值有一定程序的了解。实际上，数值是一个如此熟悉的概念，以至于很难注意到在不同的上下文中有多种使用数值的方式。

本章介绍数值以及Python处理数值的一些方法，包括基本算术以及针对不同类型数值的特殊的字符串格式说明符。

本章将介绍：
* Python使用的各种基本数值类型。
* 使用数值的方法。
* 如何显示以及混合各种类型的数值。

#### 2.1 不同类型的数值
如果使用过电子制表软件，会注意到制表软件并不把数值看做单纯的数值，而是看做不同类型的数值。电子制表软件根据不同的单元格格式，用不同的方法显示数值。例如，当处理美元数据时，电子制表软件将1美元显示为1.00。然而，如果想知道自己的车行驶的英里数，很可能以十分之一英里为单位记载，例如10.2英里。当说出想为一个新房子付多少钱时，很可能想到最接近的千位数。在数值的大端，电表账单以千瓦时为单位记录了读表数，千瓦时是指每小时1000瓦。

这对Python意味着，当想使用数值时，有时需要意识到并不是所有的数值都是相关联的（就像本章中讲到的虚数一样），并且有时必须谨慎地决定使用什么样的数值以及要用这些数值做什么。然而，一般情况下，有两种使用数值的方式：第一种是告诉Python重复一个特定的动作，第二种是用数值代表现实世界中的事物（即在程序中尝试对现实世界中的事物建模）。在Python中进行计数时，很少需要将数值看做简单数值之外的其他事物。然而，当尝试解决现实世界中的问题，例如涉及货币、科学、汽车、电等的问题，会发现自己更加清楚如何使用数值。

##### Python中的数值
Python提供了三种类型的可用数值：整型、浮点型和虚数。

在之前的版本中，Python用不同的方法处理大数。介于`-2 147 483 648`和`+2 147 483 647`之间的数被认为是整型。更大的数被提升为长整型。现在这两种类型已经合并，所以整型用于表示整数，无论这个整数是正数还是负数。

要确定数值的分类，可以使用Python中内置的一个特殊函数type。当使用type时，Python会告诉正在使用数据的类型。下面用几个示例进行说明。

@(**试一试**)[对不同的数值使用type]

在Python Shell中可以输入不同数值，type将指出Python如何看待这些数值：
``` python
 >>> type(1)
 <class 'int'>
 >>> type(2000)
 <class 'int'>
 >>> type(999999999999)
 <class 'int'>
 >>> type(1.0)
 <class 'float'>
```
##### 示例说明

尽管日常生活中，`1.0`与`1`相同，但Python自动将`1.0`看做一个浮点数；没有`.0`，数值`1`被当作整数`1`来处理（在小学学到的整数），这是另一种数值类型。


















【34页】


上传图片的免费实用图床网站：
[https://sm.ms](https://sm.ms/)

在Markdown中引用图片的方式的文章：
https://www.jianshu.com/p/c7618a53454f
